{"ast":null,"code":"import _toConsumableArray from\"C:/Users/Admin/Desktop/Shopping_Zone/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"C:/Users/Admin/Desktop/Shopping_Zone/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import{useDispatch,useSelector}from'react-redux';import Rating from'../components/Rating';import{Link}from'react-router-dom';import LoadingBox from'../components/LoadingBox';import MessageBox from'../components/MessageBox';import{detailsProduct}from'../actions/productActions';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function ProductScreen(props){var dispatch=useDispatch();var productId=props.match.params.id;var _useState=useState(1),_useState2=_slicedToArray(_useState,2),qty=_useState2[0],setQty=_useState2[1];var productDetails=useSelector(function(state){return state.productDetails;});var loading=productDetails.loading,error=productDetails.error,product=productDetails.product;useEffect(function(){dispatch(detailsProduct(productId));},[dispatch,productId]);var addToCartHandler=function addToCartHandler(){props.history.push(\"/cart/\".concat(productId,\"?qty=\").concat(qty));};return/*#__PURE__*/_jsx(\"div\",{children:loading?/*#__PURE__*/_jsx(LoadingBox,{}):error?/*#__PURE__*/_jsx(MessageBox,{variant:\"danger\",children:error}):/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Link,{to:\"/\",children:\"Back to result\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"row top\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-2\",children:/*#__PURE__*/_jsx(\"img\",{className:\"large\",src:product.image,alt:product.name})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-1\",children:/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"h1\",{children:product.name})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Rating,{rating:product.rating,numReviews:product.numReviews})}),/*#__PURE__*/_jsxs(\"li\",{children:[\"Price: \\u20B9\",product.price]}),/*#__PURE__*/_jsxs(\"li\",{children:[\"Description\",/*#__PURE__*/_jsx(\"p\",{children:product.description})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-1\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card card-body\",children:/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{children:\"Price\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"price\",children:[\"\\u20B9\",product.price]})]})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{children:\"Status\"}),/*#__PURE__*/_jsx(\"div\",{children:product.countInStock>0?/*#__PURE__*/_jsx(\"span\",{className:\"success\",children:\"In Stock\"}):/*#__PURE__*/_jsx(\"span\",{className:\"danger\",children:\"Unavailable\"})})]})}),/*#__PURE__*/_jsx(\"li\",{children:product.countInStock>0&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{children:\"Qty\"}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"select\",{value:qty,onChange:function onChange(e){return setQty(e.target.value);},children:_toConsumableArray(Array(product.countInStock).keys()).map(function(x){return/*#__PURE__*/_jsx(\"option\",{value:x+1,children:x+1},x+1);})})})]})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"button\",{onClick:addToCartHandler,className:\"primary block\",children:\"Add to Cart\"})})]})})]})})})]})]})});}","map":{"version":3,"sources":["C:/Users/Admin/Desktop/Shopping_Zone/frontend/src/screens/ProductScreen.js"],"names":["React","useEffect","useState","useDispatch","useSelector","Rating","Link","LoadingBox","MessageBox","detailsProduct","ProductScreen","props","dispatch","productId","match","params","id","qty","setQty","productDetails","state","loading","error","product","addToCartHandler","history","push","image","name","rating","numReviews","price","description","countInStock","e","target","value","Array","keys","map","x"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport Rating from '../components/Rating';\r\nimport { Link } from 'react-router-dom';\r\nimport LoadingBox from '../components/LoadingBox';\r\nimport MessageBox from '../components/MessageBox';\r\nimport { detailsProduct } from '../actions/productActions';\r\n\r\nexport default function ProductScreen(props) {\r\n    const dispatch = useDispatch();\r\n    const productId = props.match.params.id;\r\n    const [qty, setQty] = useState(1);\r\n    const productDetails = useSelector( state => state.productDetails );\r\n    const { loading, error, product } = productDetails;\r\n\r\n    useEffect(() => {\r\n       dispatch(detailsProduct(productId)); \r\n    }, [dispatch, productId]);\r\n\r\n    const addToCartHandler = () => {\r\n        props.history.push(`/cart/${productId}?qty=${qty}`);\r\n    };\r\n    \r\n    return (\r\n        <div>\r\n          {loading ? (\r\n            <LoadingBox></LoadingBox>\r\n          ) : error ? (\r\n            <MessageBox variant=\"danger\">{error}</MessageBox>\r\n          ) : (\r\n            <div>\r\n            <Link to=\"/\">Back to result</Link>\r\n            <div className=\"row top\">\r\n                <div className=\"col-2\">\r\n                    <img className=\"large\" src={product.image} alt={product.name}></img>\r\n                </div>\r\n                <div className=\"col-1\">\r\n                    <ul>\r\n                        <li>\r\n                            <h1>{product.name}</h1>\r\n                        </li>\r\n                        <li>\r\n                            <Rating rating={product.rating} numReviews={product.numReviews}></Rating>\r\n                        </li>\r\n                        <li>\r\n                            Price: &#8377;{product.price}\r\n                        </li>\r\n                        <li>\r\n                            Description\r\n                            <p>{product.description}</p>\r\n                        </li>\r\n                    </ul>\r\n                </div>\r\n                <div className=\"col-1\">\r\n                    <div className=\"card card-body\">\r\n                        <ul>\r\n                            <li>\r\n                                <div className=\"row\">\r\n                                    <div>Price</div>\r\n                                    <div className=\"price\">&#8377;{product.price}</div>\r\n                                </div>\r\n                            </li>\r\n                            <li>\r\n                                <div className=\"row\">\r\n                                    <div>Status</div>\r\n                                    <div>\r\n                                        {product.countInStock>0 ? (\r\n                                            <span className=\"success\">In Stock</span>\r\n                                        ) : (\r\n                                            <span className=\"danger\">Unavailable</span>\r\n                                        )}\r\n                                    </div>\r\n                                </div>\r\n                            </li>\r\n                            <li>\r\n                                {\r\n                                    product.countInStock > 0 && (\r\n                                        \r\n                                        <>\r\n                                        <li>\r\n                                            <div className=\"row\">\r\n                                                <div>Qty</div>\r\n                                                <div>\r\n                                                    <select value={qty} onChange={e => setQty(e.target.value)}>\r\n                                                        {\r\n                                                            [...Array(product.countInStock).keys()].map(\r\n                                                                (x) => (\r\n                                                                <option key={x+1} value={x+1}>\r\n                                                                    {x+1}\r\n                                                                </option>\r\n                                                            )\r\n                                                        )}\r\n                                                    </select>\r\n                                                </div>\r\n                                            </div>\r\n                                        </li>\r\n                                            <li>\r\n                                                <button\r\n                                                    onClick={addToCartHandler}\r\n                                                    className=\"primary block\"\r\n                                                >\r\n                                                    Add to Cart\r\n                                                </button>\r\n                                            </li>\r\n                                        </>\r\n                                    )\r\n                                }\r\n                            </li>\r\n                        </ul>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        )}\r\n        </div>\r\n        \r\n    );\r\n}"]},"metadata":{},"sourceType":"module"}